<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Live GBP/USD Chart</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
body {margin:0; font-family: 'Segoe UI', sans-serif; background: linear-gradient(to right,#0f2027,#203a43,#2c5364); color:#fff; display:flex; justify-content:center; align-items:center; height:100vh;}
#chartContainer {width:90%; max-width:1200px; background: rgba(255,255,255,0.05); padding:20px; border-radius:15px; box-shadow: 0 8px 20px rgba(0,0,0,0.3);}
canvas {width:100%; height:500px;}
</style>
</head>
<body>
<div id="chartContainer">
<canvas id="gbpusdChart"></canvas>
</div>

<script>
// ====================== INITIAL DATA ======================
const MAX_POINTS = 100;
let prices = [];
let labels = [];
let lastPrice = 1.25; // starting GBP/USD price

// Generate initial dataset
for(let i=0;i<MAX_POINTS;i++){
    lastPrice += (Math.random()-0.5)*0.005; // small random change
    prices.push(parseFloat(lastPrice.toFixed(5)));
    labels.push(i);
}

// ====================== CHART INITIALIZATION ======================
const ctx = document.getElementById('gbpusdChart').getContext('2d');
const gbpusdChart = new Chart(ctx, {
    type: 'line',
    data: {
        labels: labels,
        datasets: [{
            label: 'GBP/USD',
            data: prices,
            borderColor: '#00ffcc',
            borderWidth: 2,
            fill: false,
            tension: 0.3,
            pointRadius: 0
        }]
    },
    options: {
        responsive: true,
        animation: false,
        plugins: {
            legend: {display: true, labels:{color:'#fff'}},
            tooltip: {mode:'index', intersect:false}
        },
        scales: {
            x: {ticks:{color:'#fff'}},
            y: {ticks:{color:'#fff'}, title:{display:true,text:'Price',color:'#fff'}}
        }
    }
});

// ====================== LIVE UPDATES ======================
function updateChart(){
    // Generate new price
    let change = (Math.random()-0.5)*0.005;
    lastPrice += change;
    lastPrice = parseFloat(lastPrice.toFixed(5));

    // Shift data
    prices.push(lastPrice);
    prices.shift();
    labels.push(labels[labels.length-1]+1);
    labels.shift();

    // Update chart
    gbpusdChart.data.datasets[0].data = prices;
    gbpusdChart.data.labels = labels;
    gbpusdChart.update();
}

// Update twice per second
setInterval(updateChart, 500);
</script>
</body>
</html>
